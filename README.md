# HBV-R
Prevention of Hepatitis B Virus Reactivation Caused by Immunosuppressive Therapy and Cancer Chemotherapy Using DWH, PostgreSQL, and pandas

Hepatitis B virus reactivation (HBV-R) could be fatal when it's not given nucleic acid analogue medicines at the early stage of its development, the only way to deal with this disease is to take a rapid and appropriate action under adequate surveillance. In our country we have 30 % of the population which will be hepatitis B virus carriers or infected persons, who have a risk of HBV-R when they come into immunosuppressed state caused by medical treatments. At our hospital it counts only 30 % of all the subject cases, which have been evaluated virologically, and most of them have been done along with blood transfusions, which we cannot say it performs properly. We have so many subject cases in various departments, that it’s necessary to build systematic countermeasures the whole departments concern. In order to prompt proper actions in accordance with guidelines for hepatitis B treatment edited by the Japan society of hepatology, which includes HBV related markers with other necessary tests, verifications of results and appropriate medical acts, we have developed the method to extract efficiently high-risk patients of HBV-R, whose electronic health records contain immunosuppressants, and verify the results from alerts we have sent. 
Using the Data Warehouse (Fujitsu HOPE DWH-GX), we extracted patients' data with nucleic acid analogue medicines and some specific drugs, i.e "target drugs" which includes internal medicines and non anti-cancer infusions, which seem to be triggers for HBV-R. We also extracted results of hepatitis B virus tests such as HBsAG, anti-HBs, anti-HBc and Hepatitis B viral DNA.　Then we stored all of these data into PostgreSQL, the open source relational database management system.　With the use of the formula for PSL conversion, we have been able to grasp the total amount of steroidal components in a consecutive medication or injection of corticosteroids listed in "target drugs".　We discussed on the conditions of extraction for high-risk patients with the multi-disciplinary task force which includes doctors, nurses, pharmacists, medical technologists, health information managers, and system administrators. Then we created five queries using Python's library, pandas. 
From January, 2016, we started to send alerts toward doctors-in-charge on the electronic health records system and directors of the departments on the papers and urged them to take some actions against HBV-R for the high-risk patients whom our queries had detected. In four months after commencement of this operation, there have been 226 high-risk patients. Among them, we have 65(28.8%) voluntary actions and 161(71.2%) alerts-received cases in which 125(77.6%) have been taken actions within four weeks after receiving alerts, in which 41(32.8%) have got anti-HBs positives or anti-HBc positives, in which 36(87.8%) have got hepatitis B viral DNA tests which have found no positives detected. It has remained 36(22.4 %) unexecuted. It revealed the necessity of continuous surveillance for HBV-R.  
It seems to be clear that our methods, which have been able to extract high-risk patients efficiently and send alerts to doctors-in-charge individually, could contribute to improve the rate of the actions against HBV-R. We also confirm that only to check HBsAG negativity cannot cover　the whole aspect of the prevention of HBV-R. 
This time, it was the system administrator of the hospital who had built up the original query system using database technology and programming language without depending on system vendors, which contributed to the improvements of the quality of health care and operational efficiency. Although there was a tense atmosphere when he thought a design error could have meant a matter of life, the system got the ability to be maintained and upgrated flexibly by hospital personnel supported by multi-disciplinary task force including doctors in response to the new situation, which is unthinkable when it has been developed by system vendors. In the end, it's worth to know a system administrator has a chance to get involve with a team-based medical practice.
